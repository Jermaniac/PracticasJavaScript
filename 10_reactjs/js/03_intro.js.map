{"version":3,"sources":["../jsx/03_intro.jsx"],"names":["VisorNoticias","props","cambiarNoticia","ev","console","log","setState","estadoAnterior","propiedadesAnteriores","ultimaNoticia","categoria","fecha","Date","texto","contadorDeNoticias","registroDeNoticias","state","map","noticia","indice","React","Component","FichaNoticia","toISOString","ReactDOM","render","document","querySelector"],"mappings":";;;;;;;;;;;;IACMA,a;;;AACF,2BAAYC,KAAZ,EAAkB;AAAA;;AAGd;AACA;;AAJc,kIACRA,KADQ;;AAAA,cAiBlBC,cAjBkB,GAiBD,UAACC,EAAD,EAAQ;AACrBC,oBAAQC,GAAR,CAAY,2BAAZ;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kBAAKC,QAAL,CACI,UAACC,cAAD,EAAiBC,qBAAjB,EAA4C;;AAExC,uBAAO;;AAEHC,mCAAgB;AACZC,mCAAY,uBADA;AAEZC,+BAAQ,IAAIC,IAAJ,EAFI;AAGZC,+BAAO;AAHK,qBAFb;AAOHC,wCAAqBP,eAAeO,kBAAf,GAAoC,CAPtD;AAQH;AACAC,qEAAyBR,eAAeQ,kBAAxC,IAA4DR,eAAeE,aAA3E;;AATG,iBAAP;AAYH,aAfL;AAkBH,SAzDiB;;AAMd,cAAKO,KAAL,GAAa;AACTF,gCAAqB,CADZ;AAETC,gCAAqB,EAFZ;AAGTN,2BAAgB;AACZC,2BAAY,UADA;AAEZC,uBAAQ,IAAIC,IAAJ,EAFI;AAGZC,uBAAO;AAHK;AAHP,SAAb;AANc;AAejB;;;;iCA4CO;AAAA;;AACJ;AACA;AACA,mBACI;AAAA;AAAA,kBAAK,WAAU,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,oCAAC,YAAD,IAAc,SAAS,KAAKG,KAAL,CAAWP,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ;AAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqB,yBAAKO,KAAL,CAAWF;AAAhC,iBAFJ;AAGI;AAAA;AAAA,sBAAQ,SAAS,KAAKZ,cAAtB,EAAsC,WAAU,iBAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHJ;AAII;AAAA;AAAA,sBAAI,WAAU,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEQ;AACA;AACA,yBAAKc,KAAL,CAAWD,kBAAX,CAA8BE,GAA9B,CACI,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACjB,+BACI,oBAAC,YAAD,IAAc,SAASD,OAAvB,EAAgC,KAAKC,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ;AAGH,qBALL;AAJR;AAJJ,aADJ;AAoBH;;;;EAnFuBC,MAAMC,S;;AAoFjC;;AAED;;IACMC,Y;;;AAEF,0BAAYrB,KAAZ,EAAkB;AAAA;;AAAA,2HACRA,KADQ;AAEjB;;;;iCAEO;AACJ,mBACI;AAAA;AAAA,kBAAI,WAAU,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAK,yBAAKA,KAAL,CAAWiB,OAAX,CAAmBR;AAAxB,iBADJ;AAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAI,yBAAKT,KAAL,CAAWiB,OAAX,CAAmBL;AAAvB,iBAFJ;AAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAK,yBAAKZ,KAAL,CAAWiB,OAAX,CAAmBP,KAAnB,CAAyBY,WAAzB;AAAL;AAHJ,aADJ;AAOH;;;;EAdsBH,MAAMC,S;;AAkBjCG,SAASC,MAAT,CACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADJ,EAEIC,SAASC,aAAT,CAAuB,gBAAvB,CAFJ","file":"03_intro.js","sourcesContent":["\nclass VisorNoticias extends React.Component {\n    constructor(props){\n        super(props);\n\n        // Para emplear estado se declara a nivel de componente\n        // SOLO se puede crear en el constructor\n\n        this.state = {\n            contadorDeNoticias : 0,\n            registroDeNoticias : [],\n            ultimaNoticia : {\n                categoria : \"Deportes\",\n                fecha : new Date(),\n                texto: \"Lorem ipsum dolor sit amet consectetur adipisicing elit.\"\n            }  \n        };\n    }\n\n    cambiarNoticia = (ev) => {\n        console.log(\"Click en cambiar noticia.\");\n\n        // Para cambiar el estado existen dos posiblidades\n\n        // 1. El nuevo estado no depende del anterior\n        //      El estado puede cambiar de forma parcial\n\n        //      NOTA: en este caso no es lo que buscamos, porque necesitamos aumentar el contador del estado\n        //      y no perder las ultimas noticias que se vayan actualizando, es decir, guardarlas en la matriz.\n        // this.setState(\n        //     {\n        //         ultimaNoticia : {\n        //             categoria : \"Deportes *modificado*\",\n        //             fecha : new Date(),\n        //             texto: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. *modificado*\"\n        //         }  \n        //     }\n        // );\n\n        // 2. El nuevo estado SI depende del anterior\n        \n        this.setState(\n            (estadoAnterior, propiedadesAnteriores) =>  {\n\n                return {\n\n                    ultimaNoticia : {\n                        categoria : \"Deportes *modificado*\",\n                        fecha : new Date(),\n                        texto: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. *modificado*\"\n                    },\n                    contadorDeNoticias : estadoAnterior.contadorDeNoticias + 1,\n                    // Incorporo todas las noticias acumuladas de la matriz registroDeNoticias y la ultima Noticia\n                    registroDeNoticias : [...estadoAnterior.registroDeNoticias, estadoAnterior.ultimaNoticia]\n\n                };\n            }\n        );\n\n    };\n\n    render(){\n        // USAREMOS UN COMPONENTE HIJO PARA QUE SALGA LA ULTIMA NOTICIA AL PRINCIPIO DE LA PAGINA\n        // A este componente hijo le pasamos como props los datos de la ultima noticia\n        return(\n            <div className=\"jumbotron\">\n                <FichaNoticia noticia={this.state.ultimaNoticia}/>\n                <h3>Actualizaciones {this.state.contadorDeNoticias}</h3>\n                <button onClick={this.cambiarNoticia} className=\"btn btn-primary\">Pulsa para cambiar</button>\n                <ul className=\"list-group\">\n                    {\n                        // CADA COMPONENTE DE REACT TIENE QUE TENER ATRIBUTO KEY\n                        // El componente hijo lo podemos reutilizar para hacer la lista de noticia (CODIGO REUTILIZABLE)\n                        this.state.registroDeNoticias.map(\n                            (noticia, indice) => {\n                                return (\n                                    <FichaNoticia noticia={noticia} key={indice}/>\n                                );\n                            }\n                        )\n                    }\n                </ul>\n            </div>\n        );\n    }\n};\n\n// COMPOENNTE HIJO\nclass FichaNoticia extends React.Component {\n\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        return(\n            <li className=\"list-group-item\">\n                <h4>{this.props.noticia.categoria}</h4>\n                <p>{this.props.noticia.texto}</p>\n                <h2>{this.props.noticia.fecha.toISOString()}</h2>\n            </li>\n        );\n    }\n\n}\n\nReactDOM.render(\n    <VisorNoticias></VisorNoticias>,\n    document.querySelector(\"div#contenedor\")\n);"]}
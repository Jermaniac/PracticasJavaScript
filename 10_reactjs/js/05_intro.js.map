{"version":3,"sources":["../jsx/05_intro.jsx"],"names":["VisorProductos","VisorCarrito","Aplicacion","props","comprar","producto","setState","estadoAnterior","propiedadesAnteriores","carrito","set","id","cantidad","ref","quitar","delete","state","productos","Map","catalog","i","push","nombre","precio","Math","random","iva","React","Component","ReactDOM","render","document","querySelector"],"mappings":";;;;;;;;;;AACA,SAAQA,cAAR,QAA6B,qBAA7B;AACA,SAAQC,YAAR,QAA2B,mBAA3B;;IAEMC,U;;;AACF,wBAAYC,KAAZ,EAAkB;AAAA;;AAAA,4HACRA,KADQ;;AAAA,cA+BlBC,OA/BkB,GA+BR,UAACC,QAAD,EAAa;AACnB,kBAAKC,QAAL,CACI,UAACC,cAAD,EAAgBC,qBAAhB,EAA0C;AACtCD,+BAAeE,OAAf,CAAuBC,GAAvB,CAA2BL,SAASM,EAApC,EAAuC,EAACC,UAAW,CAAZ,EAAeC,KAAMR,QAArB,EAAvC;AACA,uBAAO;AACHI,6BAAUF,eAAeE;AADtB,iBAAP;AAGH,aANL;AAQH,SAxCiB;;AAAA,cA0ClBK,MA1CkB,GA0CT,UAACT,QAAD,EAAa;AAClB,kBAAKC,QAAL,CACI,UAACC,cAAD,EAAgBC,qBAAhB,EAA0C;;AAE1CD,+BAAeE,OAAf,CAAuBM,MAAvB,CAA8BV,SAASM,EAAvC;AACI,uBAAO;AACHF,6BAAUF,eAAeE;AADtB,iBAAP;AAGH,aAPL;AASH,SApDiB;;AAGd,cAAKO,KAAL,GAAY;;AAERC,uBAAY,EAFJ;AAGRR,qBAAU,IAAIS,GAAJ;AAHF,SAAZ;AAHc;AAQjB;;;;4CAEmB;AAChB,gBAAIC,UAAU,EAAd;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,KAAK,EAArB,EAAyBA,GAAzB,EAA6B;AACzBD,wBAAQE,IAAR,CACI;AACIV,wBAAKS,CADT;AAEIE,4BAAS,cAAcF,CAF3B;AAGIG,4BAASC,KAAKC,MAAL,KAAgB,KAH7B;AAIIC,yBAAM;AAJV,iBADJ;AAQH;;AAED,iBAAKpB,QAAL,CACI;AACIW,2BAAYE;AADhB,aADJ;AAKH;;AAED;;;;;;AAwBA;AACA;iCACQ;AACJ,mBACI;AAAA;AAAA,kBAAK,WAAU,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA,sBAAK,WAAU,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACI;AAAA;AAAA,0BAAK,WAAU,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,4CAAC,cAAD,IAAgB,WAAW,KAAKH,KAAL,CAAWC,SAAtC;AACA,qCAAS,KAAKD,KAAL,CAAWP,OADpB;AAEA,sCAAU,KAAKL,OAFf;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,qBADJ;AAQI;AAAA;AAAA,0BAAK,WAAU,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,4CAAC,YAAD,IAAc,SAAS,KAAKY,KAAL,CAAWP,OAAlC,EAA2C,UAAU,KAAKK,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AARJ;AADJ,aADJ;AAgBH;;;;EA1EoBa,MAAMC,S;;AA8E/BC,SAASC,MAAT,CACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADJ,EAEIC,SAASC,aAAT,CAAuB,gBAAvB,CAFJ","file":"05_intro.js","sourcesContent":["\nimport {VisorProductos} from \"./visorproductos.js\";\nimport {VisorCarrito} from \"./visorcarrito.js\";\n\nclass Aplicacion extends React.Component {\n    constructor(props){\n        super(props);\n\n        this.state= {\n\n            productos : [],\n            carrito : new Map()\n        };\n    }\n\n    componentDidMount() {\n        let catalog = [];\n        for (let i = 1; i <= 12; i++){\n            catalog.push(\n                {\n                    id : i,\n                    nombre : \"Producto \" + i,\n                    precio : Math.random() * 500.0,\n                    iva : 21.0\n                }\n            );\n        }\n\n        this.setState(\n            {\n                productos : catalog\n            }\n        );\n    }\n\n    // lo defino aqui porque es el padre y lo puedo pasar por props a visorproductos.jsx\n    comprar = (producto) =>{\n        this.setState(\n            (estadoAnterior,propiedadesAnteriores) => {\n                estadoAnterior.carrito.set(producto.id,{cantidad : 1, ref : producto});\n                return {\n                    carrito : estadoAnterior.carrito\n                }\n            }\n        );\n    }\n\n    quitar = (producto) =>{\n        this.setState(\n            (estadoAnterior,propiedadesAnteriores) => {\n\n            estadoAnterior.carrito.delete(producto.id);\n                return {\n                    carrito : estadoAnterior.carrito\n                }\n            }\n        );\n    }\n\n    // En este caso hemos definido dos metodos comprar y quitar.\n    // Para poder usarlos en los componentes hijos los pasamos utilizando una etiqueta por defecto on...={..}\n    render(){\n        return (\n            <div className=\"jumbotron\">\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <VisorProductos productos={this.state.productos} \n                        carrito={this.state.carrito}\n                        onCompra={this.comprar}\n                        \n                        />\n                    </div>\n                    <div className=\"col\">\n                        <VisorCarrito carrito={this.state.carrito} onQuitar={this.quitar}/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nReactDOM.render(\n    <Aplicacion/>,\n    document.querySelector(\"div#contenedor\")\n);"]}